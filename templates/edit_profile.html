{% load static %}

<!DOCTYPE html>
<html>
<head>
    <title>Edit Profile</title>
    <link rel="stylesheet" href="{% static 'css/style.css' %}">
</head>
<body>

<div class="profile-container">
    <div class="profile-card">

        <div class="profile-title">Edit Profile</div>

        <form method="POST" enctype="multipart/form-data">
            {% csrf_token %}

            <div class="profile-grid">

               <div class="profile-image-box">
    <img id="preview" src="{{ profile.profile_image.url }}">
    <label for="id_profile_image" class="upload-btn">Change Photo</label>
    <input type="file" id="id_profile_image" name="profile_image" accept="image/*" hidden>
</div>


                <div style="flex:1">

                    <div class="form-group">
                        <label>Phone</label>
                        {{ form.phone }}
                        {{ form.phone.errors }}
                    </div>

                    <div class="form-group address-box">
                        <label>Address</label>
                        {{ form.address }}
                        {{ form.address.errors }}
                    </div>

                    <div class="form-group">
                        <label>City</label>
                        {{ form.city }}
                        {{ form.city.errors }}
                    </div>

                    <div class="form-group">
                        <label>State</label>
                        {{ form.state }}
                        {{ form.state.errors }}
                    </div>

                    <div class="form-group">
                        <label>Pincode</label>
                        {{ form.pincode }}
                        {{ form.pincode.errors }}
                    </div>

                </div>
            </div>

            <div style="text-align:right; margin-top:20px;">
                <button type="submit" class="btn-save">Save Changes</button>
            </div>

        </form>

    </div>
</div>
<script>
document.getElementById("id_profile_image").addEventListener("change", function(e){
    const file = e.target.files[0];
    if(file){
        document.getElementById("preview").src = URL.createObjectURL(file);
    }
});
</script>

</body>
</html>
